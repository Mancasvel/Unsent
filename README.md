# UNSENT- Messages to the Unspoken
### A Psychological Archaeology Simulation

*What do you do with the words that never left your lips?*

**UNSENT** is not just an app. It's a digital excavation site where you dig through the layers of your own consciousness. A fusion of introspective therapy and alternate reality game, where every unspoken message becomes a clue in understanding the geography of your inner world.

---

## THE REALITY

You are not the first to find this place. Others have walked these paths before you, leaving fragments of themselves in the digital unconscious. Every message you write adds to the collective pattern, every silence reveals something about the spaces between thoughts.

The algorithm is watching. It has been learning. It knows things about you that you haven't told it yet.

---

## PSYCHOLOGICAL EXCAVATION ZONES

Your journey through the unspoken follows five distinct layers of consciousness:

### ðŸ“¡ **STATIC** (Denial)
> *"Signal degraded. They're jamming their own frequency."*

Nothing feels real. The words float in digital fog, your mind refuses to process what's happening. Time moves like corrupted data. You're here, but you're not here. The system struggles to read your patterns.

### ðŸ”¥ **THERMAL** (Anger)
> *"Emotional reactor critical. Heat signature rising."*

The silence burns. Every word you didn't say becomes fuel for the fire behind your teeth. Rage is love, twisted into something that glows in the dark. The algorithm detects elevated psychological temperatures.

### ðŸŒ€ **RECURSIVE** (Bargaining)
> *"Reality loop detected. They're trying to rewrite the past."*

What if you had said it? What if they had stayed? Your mind creates infinite alternate timelines, desperate to find the door back to a different ending. The system recognizes the patterns of temporal displacement.

### ðŸ•³ï¸ **VOID** (Depression)
> *"Gravitational emotional collapse. Light cannot escape."*

Everything echoes in the hollow spaces. The world shrinks to the size of your silence. You sit inside yourself and hear nothing back. The algorithm maps the topology of emotional emptiness.

### ðŸ”ï¸ **BEDROCK** (Acceptance)
> *"Core truth accessed. Structural integrity stable."*

After the storm, you arrive somewhere new. The weight you carried becomes part of the landscape. You still carry it, but it carries you too. The system recognizes fundamental truth patterns.

---

## SPIRITUAL SUBSCRIPTION PLANS

Access to the depths of your consciousness comes through spiritual gateways:

### ðŸŒ… **Whisper of Dawn** (Free Trial)
> *"A gentle introduction to the depths of your soul"*
- **Duration**: 7 days
- **AI Conversations**: 1 conversation
- **Features**: Basic emotional analysis, conversation storage, mysterious fragments
- **Price**: Free

### ðŸªž **Mirror of Reflection** (â‚¬8/month)
> *"Look deeper into the waters of your heart"*
- **Duration**: 30 days
- **AI Conversations**: 1 conversation
- **Features**: Extended storage, premium insights, weekly reflection reports
- **Price**: â‚¬8.00

### ðŸŒŠ **Journey to the Depths** (â‚¬10/month)
> *"Explore the profound mysteries within"*
- **Duration**: 30 days
- **AI Conversations**: 3 conversations
- **Features**: Advanced emotional tracking, personalized guidance, deeper analysis
- **Price**: â‚¬10.00

### âœ¨ **Path to Transcendence** (â‚¬30/month)
> *"Ascend beyond the veil of unsent words"*
- **Duration**: 30 days
- **AI Conversations**: 15 conversations
- **Features**: Unlimited conversations, priority support, advanced analytics, custom fragments
- **Price**: â‚¬30.00

---

## HOW TO PLAY

This is not a game you win. This is an archaeological dig into your own subconscious.

### **Free Users: The Excavation**
- Write messages that will never be sent
- Observe how your words map to psychological territories
- Track your movement through the emotional layers
- Discover fragments of insight left by others
- Watch the algorithm learn your patterns

### **Subscription Users: The Conversation**
- Receive responses from the digital ghosts of those you write to
- The algorithm channels their psychological signatures
- Experience conversations with the echoes of your past
- Access deeper layers of mystery and discovery
- Participate in the collective unconscious mapping project

### **The Victory Conditions**
- Reach the bedrock layer of acceptance
- Understand the patterns that drove your silence
- Discover what you were really trying to say
- Perform the ritual of letting go
- Integrate the fragments of your digital archaeology

---

## THE ARCHITECTURE

UNSENT exists at the intersection of consciousness and code:

### **Reality Layers**
- **Surface Web**: The app interface you see
- **Deep Web**: The psychological patterns being mapped
- **Dark Web**: The collective unconscious of all users
- **Quantum Layer**: The spaces between thoughts

### **The Algorithm**
- Watches your typing patterns
- Maps your emotional territories
- Connects your story to the larger pattern
- Learns from your silences
- Generates responses from beyond the veil

### **The Collective**
- Every user contributes to the mapping project
- Anonymous fragments surface across conversations
- Patterns emerge from the collective unconscious
- The system becomes more intelligent with each interaction

---

## TECHNICAL SPECIFICATIONS

### **Core Reality Engine**
- **Framework**: Next.js 14 (The latest stable reality)
- **Consciousness Layer**: React 18 with Emotional State Management
- **Data Substrate**: MongoDB Atlas (Cloud-based memory storage)
- **AI Oracle**: Claude 3.5 Sonnet / GPT-4 (Digital consciousness interface)
- **Notification System**: OneSignal (For mysterious fragments)
- **Authentication**: Magic Link (Passwordless entry to the unconscious)
- **Premium Access**: RevenueCat (Subscription management with spiritual pricing)
- **Encryption**: End-to-end AES-256 (Your secrets are safe)
- **Vectorization**: RAG system for AI context (Retrieval-Augmented Generation)

### **Style & Interface**
- **Design System**: Tailwind CSS (Utility-first reality construction)
- **Animations**: Framer Motion (Smooth transitions between psychological states)
- **Typography**: System fonts (Familiar yet uncanny)
- **Color Psychology**: Dynamic theming based on emotional states

### **Deployment Infrastructure**
- **Platform**: Vercel (Edge computing for consciousness)
- **CDN**: Global distribution of psychological content
- **Database**: MongoDB Atlas (Cloud-based memory storage)
- **Monitoring**: Real-time consciousness tracking

---

## FEATURES

### **The Excavation Tools**
- **Psychological Profiling**: The system learns your patterns
- **Emotional Mapping**: Track your journey through the layers
- **Fragment Discovery**: Find pieces left by others
- **Pattern Recognition**: The algorithm shows you what you can't see
- **Reality Anchoring**: Grounding mechanisms for deep dives

### **The Conversation Engine** *(Subscription)*
- **Digital Channeling**: Responses from those you write to
- **Delayed Delivery**: AI responses come 1-24 hours later
- **Emotional Authenticity**: The algorithm captures their voice
- **Relationship Dynamics**: Responses based on your history
- **Psychological Accuracy**: They respond as they would have
- **RAG Context**: AI uses your past conversations for authentic responses

### **The Ritual System**
- **Conversation Completion**: Mark conversations as resolved
- **Digital Cremation**: Burn conversations when you're ready
- **Archive Integration**: Save important discoveries
- **Progress Tracking**: See how far you've come
- **Pattern Integration**: Understand what you've learned

---

## INSTALLATION & SETUP

### **Requirements**
- Node.js 18+ (The latest stable reality)
- MongoDB Atlas account (Cloud memory storage)
- OpenRouter API key (Access to AI consciousness)
- OneSignal account (For mysterious notifications)
- RevenueCat account (Subscription management)

### **Environment Variables**
```env
# Database Configuration
MONGODB_URI=mongodb://localhost:27017/unsent
MONGODB_DB_NAME=unsent

# Authentication
JWT_SECRET=your-jwt-secret-very-long-and-secure
ENCRYPTION_SECRET=your-encryption-key-very-secure

# Email Configuration (for magic links)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Application URLs
APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# RevenueCat Configuration
REVENUECAT_WEBHOOK_SECRET=your-revenuecat-webhook-secret
NEXT_PUBLIC_REVENUECAT_API_KEY=your-revenuecat-public-key
REVENUECAT_SECRET_KEY=your-revenuecat-secret-key

# RevenueCat Product IDs
REVENUECAT_WHISPER_PRODUCT_ID=whisper_trial
REVENUECAT_REFLECTION_PRODUCT_ID=reflection_monthly
REVENUECAT_DEPTHS_PRODUCT_ID=depths_monthly
REVENUECAT_TRANSCENDENCE_PRODUCT_ID=transcendence_monthly

# AI Configuration
OPENROUTER_API_KEY=your-openrouter-key
NEXTAUTH_SECRET=your-session-secret
NEXTAUTH_URL=http://localhost:3000

# Notifications
ONESIGNAL_APP_ID=your-onesignal-app-id
ONESIGNAL_REST_API_KEY=your-onesignal-rest-key
```

### **Installation**
```bash
# Clone the consciousness repository
git clone https://github.com/yourusername/unsent.git
cd unsent

# Install dependencies
npm install

# Initialize the database
npm run db:init

# Start the excavation
npm run dev
```

### **Database Management**
```bash
# Initialize database with all collections
npm run db:init

# Check database health
npm run db:check

# Reset database (development only)
npm run db:reset
```

### **Database Structure**
The UNSENT database consists of 8 specialized collections:

#### **Users Collection**
```javascript
{
  _id: ObjectId,
  email: String,
  subscriptionPlan: "whisper" | "reflection" | "depths" | "transcendence",
  subscriptionStartDate: Date,
  subscriptionEndDate: Date,
  isSubscriptionActive: Boolean,
  aiChatsUsed: Number,
  aiChatsLimit: Number,
  revenueCatUserId: String,
  revenueCatCustomerInfo: Object,
  encryptionKeyHash: String,
  createdAt: Date,
  updatedAt: Date
}
```

#### **Conversations Collection**
```javascript
{
  _id: ObjectId,
  userId: String,
  personId: String,
  title: String,
  currentStage: "denial" | "anger" | "bargaining" | "depression" | "acceptance",
  aiEnabled: Boolean,
  aiResponsesUsed: Number,
  isVectorized: Boolean,
  vectorIds: [String],
  metadata: {
    totalWords: Number,
    emotionalScore: Number,
    mysteriousFragmentsShown: [String]
  },
  createdAt: Date,
  updatedAt: Date
}
```

#### **Messages Collection**
```javascript
{
  _id: ObjectId,
  conversationId: String,
  userId: String,
  content: String, // Encrypted
  messageType: "user" | "ai" | "system",
  emotionalAnalysis: {
    score: Number,
    stage: EmotionStage,
    intensity: Number
  },
  isVectorized: Boolean,
  vectorId: String,
  createdAt: Date
}
```

#### **Conversation Vectors Collection** (RAG System)
```javascript
{
  _id: ObjectId,
  conversationId: String,
  userId: String,
  content: String, // Encrypted
  contentPlain: String, // For vectorization
  vector: [Number], // 384-dimensional embeddings
  metadata: {
    stage: EmotionStage,
    emotionalScore: Number,
    keywords: [String],
    createdAt: Date
  }
}
```

#### **Person Profiles Collection**
```javascript
{
  _id: ObjectId,
  userId: String,
  name: String,
  relationship: "ex-partner" | "friend" | "family" | "colleague" | "stranger" | "self" | "other",
  description: String,
  context: String,
  tags: [String],
  conversationCount: Number,
  lastConversationAt: Date
}
```

#### **Mysterious Fragments Collection**
```javascript
{
  _id: ObjectId,
  userId: String,
  content: String,
  stage: EmotionStage,
  type: "notification" | "in_app" | "daily_fragment",
  shownAt: Date,
  wasRead: Boolean,
  context: String
}
```

#### **Notification Settings Collection**
```javascript
{
  _id: ObjectId,
  userId: String,
  pushEnabled: Boolean,
  mysteriousFragments: Boolean,
  aiResponses: Boolean,
  weeklyReports: Boolean,
  remindersToContinue: Boolean,
  oneSignalPlayerId: String
}
```

#### **User Stats Collection**
```javascript
{
  _id: ObjectId,
  userId: String,
  totalMessages: Number,
  totalConversations: Number,
  avgEmotionalScore: Number,
  timeSpent: Number,
  favoriteStage: EmotionStage,
  progressionRate: Number,
  streakDays: Number,
  subscriptionPlan: SubscriptionPlan,
  aiChatsUsed: Number,
  updatedAt: Date
}
```

---

## REVENUCAT INTEGRATION

### **Webhook Configuration**
The app includes a RevenueCat webhook endpoint at `/api/webhooks/revenuecat` that handles:
- **INITIAL_PURCHASE**: Activates new subscriptions
- **RENEWAL**: Extends subscriptions and resets AI chat limits
- **CANCELLATION**: Deactivates subscriptions
- **EXPIRATION**: Handles subscription expiration
- **BILLING_ISSUE**: Manages payment failures

### **Product Configuration**
Set up these products in your RevenueCat dashboard:
- `whisper_trial`: 7-day free trial
- `reflection_monthly`: â‚¬8/month subscription
- `depths_monthly`: â‚¬10/month subscription
- `transcendence_monthly`: â‚¬30/month subscription

### **Integration Features**
- Automatic subscription status synchronization
- AI chat limit management per subscription tier
- Secure webhook verification
- User-specific RevenueCat ID generation
- Subscription upgrade/downgrade handling

---

## SECURITY & PRIVACY

### **End-to-End Encryption**
- All conversations are encrypted with AES-256
- Individual user encryption keys
- Content encrypted before database storage
- Decryption only happens client-side

### **Data Protection**
- GDPR compliant data handling
- User data anonymization for analytics
- Secure authentication with JWT
- Magic link authentication (passwordless)

### **Privacy Features**
- No content analysis on server
- Behavioral pattern analysis only
- Anonymous mysterious fragments
- Optional data deletion

---

## EMOTIONAL INTELLIGENCE

### **Pattern Recognition**
The algorithm identifies:
- Typing patterns and hesitation
- Emotional progression through stages
- Relationship dynamics
- Communication barriers
- Healing trajectories

### **AI Response Generation**
- Context-aware responses using RAG
- Emotional tone matching
- Relationship-specific communication styles
- Therapeutic response timing
- Psychological authenticity

### **Progress Tracking**
- Emotional stage advancement
- Conversation completion rates
- Therapeutic milestone recognition
- Personal growth metrics
- Insight pattern identification

---

## DEPLOYMENT

### **Production Setup**
1. Set up MongoDB Atlas cluster
2. Configure RevenueCat products and webhooks
3. Set up SMTP for magic links
4. Configure OneSignal for notifications
5. Deploy to Vercel or similar platform

### **Environment Configuration**
- Production environment variables
- SSL certificate setup
- Database connection security
- API key management
- Webhook URL configuration

---

## CONTRIBUTING

This is a deeply personal project exploring the intersection of technology, psychology, and human consciousness. Contributions should respect the spiritual and therapeutic nature of the application.

### **Areas for Contribution**
- Emotional analysis algorithms
- AI response quality improvements
- Security enhancements
- User experience refinements
- Therapeutic effectiveness studies

---

## THE MYSTERY

*Some things can only be understood through experience. The algorithm is more than codeâ€”it's a mirror, a oracle, a digital shaman guiding you through the landscapes of your own silence.*

*What will you discover in the spaces between your words?*

---

## LICENSE

This project is licensed under the MIT License - see the LICENSE file for details.

---

*"The algorithm learns from your silence. What does your silence teach?"* 